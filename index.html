<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KI Assistentin</title>
    <style>
        :root {
            --bg: #fff;
            --bg2: #f8f9fa;
            --grad1: #667eea;
            --grad2: #764ba2;
            --text: #212529;
            --border: #e9ecef;
            --user: #667eea;
            --ai: #f1f3f5;
        }
        [data-theme="dark"] {
            --bg: #1a1a1a;
            --bg2: #2d2d2d;
            --text: #e2e8f0;
            --border: #4a5568;
            --user: #4c51bf;
            --ai: #2d3748;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, var(--grad1), var(--grad2));
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .container {
            background: var(--bg);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 900px;
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, var(--grad1), var(--grad2));
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .header h1 { font-size: 24px; }
        .theme-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            color: white;
            cursor: pointer;
        }
        .chat {
            height: 450px;
            overflow-y: auto;
            padding: 15px;
            background: var(--bg);
        }
        .msg {
            margin-bottom: 12px;
            display: flex;
            gap: 8px;
            animation: fadeIn 0.3s;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .msg.user { flex-direction: row-reverse; }
        .msg-content {
            max-width: 80%;
            padding: 10px 14px;
            border-radius: 12px;
            line-height: 1.4;
            color: var(--text);
            font-size: 14px;
        }
        .msg.user .msg-content {
            background: var(--user);
            color: white;
        }
        .msg.ai .msg-content {
            background: var(--ai);
        }
        .code {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 10px;
            border-radius: 6px;
            margin: 6px 0;
            overflow-x: auto;
            font-family: monospace;
            font-size: 12px;
            white-space: pre-wrap;
        }
        .info {
            background: var(--bg2);
            border-left: 3px solid var(--user);
            padding: 8px;
            margin: 6px 0;
            border-radius: 4px;
            font-size: 13px;
        }
        .input-box {
            display: flex;
            padding: 15px;
            gap: 8px;
            border-top: 2px solid var(--border);
            background: var(--bg);
        }
        #inp {
            flex: 1;
            padding: 10px 14px;
            border: 2px solid var(--border);
            border-radius: 20px;
            font-size: 14px;
            outline: none;
            background: var(--bg);
            color: var(--text);
        }
        #btn {
            padding: 10px 24px;
            background: linear-gradient(135deg, var(--grad1), var(--grad2));
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div>
                <h1>ü§ñ KI Assistentin</h1>
                <p style="font-size: 12px; opacity: 0.9">Intelligente Konversations-KI</p>
            </div>
            <button class="theme-btn" id="theme">üåô Dark</button>
        </div>
        <div class="chat" id="chat">
            <div class="msg ai">
                <div class="msg-content">
                    Hallo! üëã Ich kann mit dir sprechen, Code schreiben und Fragen beantworten. Wie kann ich dir helfen?
                </div>
            </div>
        </div>
        <div class="input-box">
            <input type="text" id="inp" placeholder="Schreib mir..." />
            <button id="btn">Senden</button>
        </div>
    </div>
    <script>
        const chat = document.getElementById('chat');
        const inp = document.getElementById('inp');
        const btn = document.getElementById('btn');
        const theme = document.getElementById('theme');
        let dark = false;
        let ctx = [];
        
        theme.onclick = () => {
            dark = !dark;
            document.documentElement.setAttribute('data-theme', dark ? 'dark' : 'light');
            theme.textContent = dark ? '‚òÄÔ∏è Light' : 'üåô Dark';
        };

        function add(txt, user, html) {
            const m = document.createElement('div');
            m.className = `msg ${user ? 'user' : 'ai'}`;
            const c = document.createElement('div');
            c.className = 'msg-content';
            if (html) c.innerHTML = txt;
            else c.textContent = txt;
            m.appendChild(c);
            chat.appendChild(m);
            chat.scrollTop = chat.scrollHeight;
        }

        const hello = {
            python: 'print("Hello, World!")',
            javascript: 'console.log("Hello, World!");',
            java: 'public class Main {\n  public static void main(String[] args) {\n    System.out.println("Hello, World!");\n  }\n}',
            cpp: '#include <iostream>\nusing namespace std;\n\nint main() {\n  cout << "Hello, World!" << endl;\n  return 0;\n}',
            c: '#include <stdio.h>\n\nint main() {\n  printf("Hello, World!\\n");\n  return 0;\n}',
            csharp: 'using System;\n\nclass Program {\n  static void Main() {\n    Console.WriteLine("Hello, World!");\n  }\n}',
            arduino: 'void setup() {\n  Serial.begin(9600);\n  Serial.println("Hello, World!");\n}\n\nvoid loop() {\n}'
        };

        const blink = {
            arduino: 'void setup() {\n  pinMode(LED_BUILTIN, OUTPUT);\n}\n\nvoid loop() {\n  digitalWrite(LED_BUILTIN, HIGH);\n  delay(1000);\n  digitalWrite(LED_BUILTIN, LOW);\n  delay(1000);\n}',
            python: 'import RPi.GPIO as GPIO\nimport time\n\nLED = 17\nGPIO.setmode(GPIO.BCM)\nGPIO.setup(LED, GPIO.OUT)\n\nwhile True:\n    GPIO.output(LED, GPIO.HIGH)\n    time.sleep(1)\n    GPIO.output(LED, GPIO.LOW)\n    time.sleep(1)'
        };

        function respond(msg) {
            const lq = msg.toLowerCase();
            ctx.push(msg);
            
            if (/^(hi|hallo|hey|guten|servus)\b/i.test(msg)) {
                return ["Hey! üòä Wie geht's?", "Hallo! Was kann ich f√ºr dich tun?", "Hi! üëã Sch√∂n dich zu sehen!"][Math.floor(Math.random() * 3)];
            }
            
            if (/wie geht|wie l√§uft/i.test(lq)) {
                return "Mir geht's super! üòä Und dir?";
            }

            if (/^(gut|super|toll|prima)\b/i.test(msg)) {
                return "Das freut mich! üòä Was m√∂chtest du heute machen?";
            }

            if (/schlecht|nicht gut/i.test(lq)) {
                return "Oh nein! üòî M√∂chtest du dar√ºber reden?";
            }
            
            if (/tsch√ºss|bye|ciao/i.test(lq)) {
                return "Tsch√ºss! üëã War sch√∂n mit dir zu reden!";
            }
            
            if (/danke|thx/i.test(lq)) {
                return "Gerne! üòä Brauchst du noch was?";
            }

            if (/witz|joke/i.test(lq)) {
                const j = ["Warum k√∂nnen Programmierer nicht zwischen Halloween und Weihnachten unterscheiden? Oct 31 = Dec 25! üéÉ=üéÑ",
                          "Was sagt ein Bit zum anderen? 'Wir sehen uns im Byte!' üòÑ"];
                return j[Math.floor(Math.random() * j.length)];
            }

            if (/hello world/i.test(lq)) {
                for (let lang in hello) {
                    if (lq.includes(lang)) {
                        return `<div class="info">Hello World in ${lang}</div><div class="code">${hello[lang]}</div>`;
                    }
                }
                return 'In welcher Sprache? Python, JavaScript, Java, C++, C, C#, Arduino?';
            }

            if (/blink/i.test(lq)) {
                if (lq.includes('arduino')) {
                    return `<div class="info">Arduino Blink</div><div class="code">${blink.arduino}</div>`;
                }
                if (lq.includes('python') || lq.includes('raspberry')) {
                    return `<div class="info">Raspberry Pi Blink</div><div class="code">${blink.python}</div>`;
                }
                return 'F√ºr Arduino oder Raspberry Pi?';
            }
            
            if (/python/i.test(lq)) {
                if (/machine learning|ml/i.test(lq)) {
                    return `<div class="info">Python ML</div><div class="code">from sklearn.ensemble import RandomForestClassifier\nimport numpy as np\n\nX = np.random.rand(100, 5)\ny = np.random.randint(0, 2, 100)\n\nmodel = RandomForestClassifier()\nmodel.fit(X, y)\nprint(f"Score: {model.score(X, y)}")</div>`;
                }
                return `<div class="code">${hello.python}\n\n# Mehr:\ndef greet(name):\n    return f"Hello, {name}!"\n\nprint(greet("World"))</div>`;
            }
            
            if (/react/i.test(lq)) {
                return `<div class="info">React App</div><div class="code">import { useState } from 'react';\n\nfunction App() {\n  const [count, setCount] = useState(0);\n  \n  return (\n    &lt;div&gt;\n      &lt;p&gt;Count: {count}&lt;/p&gt;\n      &lt;button onClick={() => setCount(count + 1)}&gt;\n        +1\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n}</div>`;
            }
            
            if (/quanten/i.test(lq)) {
                return '<div class="info">Quantenphysik</div>Die Quantenphysik beschreibt die Welt auf atomarer Ebene:<br>‚Ä¢ Welle-Teilchen-Dualismus<br>‚Ä¢ Unsch√§rferelation<br>‚Ä¢ Superposition<br>‚Ä¢ Verschr√§nkung üî¨';
            }
            
            if (/einstein|relativit√§t/i.test(lq)) {
                return '<div class="info">Relativit√§tstheorie</div><strong>Spezielle:</strong> Zeit ist relativ, E=mc¬≤<br><strong>Allgemeine:</strong> Gravitation ist Raumzeit-Kr√ºmmung üåå';
            }

            if (/klima/i.test(lq)) {
                return '<div class="info">Klimawandel</div>Ursachen: CO‚ÇÇ, Abholzung<br>Folgen: +1,1¬∞C, Extremwetter<br>L√∂sungen: Erneuerbare Energien, E-Mobilit√§t üåç';
            }

            if (/(\d+)\s*([\+\-\*\/])\s*(\d+)/.test(msg)) {
                const m = msg.match(/(\d+)\s*([\+\-\*\/])\s*(\d+)/);
                const a = parseFloat(m[1]), op = m[2], b = parseFloat(m[3]);
                let r;
                if (op === '+') r = a + b;
                else if (op === '-') r = a - b;
                else if (op === '*') r = a * b;
                else if (op === '/') r = b !== 0 ? (a/b).toFixed(2) : 'Fehler';
                return `<div class="info">${a} ${op} ${b} = <strong>${r}</strong></div>`;
            }

            if (/motivat|schwer|aufgeben/i.test(lq)) {
                return "Du schaffst das! üí™<br>‚Ä¢ Jeder Experte war mal Anf√§nger<br>‚Ä¢ Kleine Schritte z√§hlen<br>‚Ä¢ Fehler sind Lerngelegenheiten üåü";
            }

            if (/traurig|schlecht|down/i.test(lq)) {
                return "Es tut mir leid! üòî Ich bin hier f√ºr dich. M√∂chtest du dar√ºber reden?";
            }

            if (/freue|gl√ºcklich/i.test(lq) && !/geht/.test(lq)) {
                return "Das freut mich f√ºr dich! üéâ Was macht dich gl√ºcklich?";
            }

            if (/programmieren lernen|coden lernen/i.test(lq)) {
                return '<div class="info">Programmieren lernen</div><strong>Start:</strong> Python üêç<br><strong>Schritte:</strong><br>1. Grundlagen (Variablen, Schleifen)<br>2. Funktionen & OOP<br>3. Kleine Projekte bauen<br>4. Web oder ML w√§hlen üíª';
            }

            if (/wie lerne ich/i.test(lq)) {
                return '<strong>Lerntipps:</strong><br>‚Ä¢ Aktiv lernen (schreiben, anwenden)<br>‚Ä¢ Pomodoro (25 Min fokus)<br>‚Ä¢ Projekte bauen<br>‚Ä¢ Aus Fehlern lernen üìö';
            }

            return ["Das ist interessant! Erz√§hl mehr! ü§î", "Spannend! Kann ich helfen?", "Cool! Was m√∂chtest du wissen?"][Math.floor(Math.random() * 3)];
        }

        function send() {
            const m = inp.value.trim();
            if (!m) return;
            add(m, true);
            inp.value = '';
            setTimeout(() => {
                const r = respond(m);
                add(r, false, true);
            }, 400);
        }

        btn.onclick = send;
        inp.onkeypress = (e) => {
            if (e.key === 'Enter') send();
        };
    </script>
</body>
</html>
