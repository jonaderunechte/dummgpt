<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dumme KI â€” Chat</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#ff6b6b;--muted:#94a3b8;--glass: rgba(255,255,255,0.03)}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;background:linear-gradient(180deg,var(--bg),#071024);color:#e6eef8}
    .app{max-width:900px;margin:32px auto;padding:20px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow:0 6px 30px rgba(2,6,23,.6)}
    header{display:flex;gap:12px;align-items:center}
    .logo{width:56px;height:56px;border-radius:10px;background:var(--glass);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--accent);font-size:22px}
    h1{margin:0;font-size:20px}
    p.lead{margin:6px 0 0;color:var(--muted);font-size:13px}

    .controls{display:flex;gap:12px;margin-top:18px;align-items:center}
    .slider{display:flex;align-items:center;gap:8px}
    input[type=range]{accent-color:var(--accent)}

    .chat{margin-top:18px;border-radius:10px;padding:14px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));min-height:380px;max-height:60vh;overflow:auto}
    .msg{display:flex;margin:10px 0;gap:12px}
    .bubble{max-width:78%;padding:10px 12px;border-radius:10px;background:var(--card);box-shadow:inset 0 -1px 0 rgba(255,255,255,0.02);font-size:14px}
    .user{justify-content:flex-end}
    .user .bubble{background:linear-gradient(90deg,#0b1220,#081424);border:1px solid rgba(255,255,255,0.02)}
    .meta{font-size:12px;color:var(--muted);margin-top:4px}

    .composer{display:flex;gap:8px;margin-top:14px}
    textarea{flex:1;min-height:48px;padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit;resize:vertical}
    button{padding:10px 14px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent),#ff8a6b);color:#06202a;font-weight:700;cursor:pointer}
    .muted{color:var(--muted);font-size:13px}

    .footer{display:flex;gap:10px;align-items:center;justify-content:space-between;margin-top:12px}
    .download{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px 10px;border-radius:8px;color:var(--muted);cursor:pointer}

    @media (max-width:600px){.app{margin:12px;padding:14px}}
  </style>
</head>
<body>
  <div class="app" role="application" aria-label="Dumme KI Chat">
    <header>
      <div class="logo">DK</div>
      <div>
        <h1>Dumme KI â€” Chat</h1>
        <p class="lead">Frage die KI. Die KI gibt bewusst dumme, alberne oder unsinnige Antworten â€” rein zu Unterhaltungszwecken.</p>
      </div>
    </header>

    <div class="controls">
      <div class="slider">
        <label for="stupidRange" class="muted">Dummheitsgrad</label>
        <input id="stupidRange" type="range" min="1" max="10" value="7" aria-label="Dummheitsgrad">
      </div>
      <div class="muted">Antwort-Modus:</div>
      <select id="modeSelect" aria-label="Antwortmodus">
        <option value="random">ZufÃ¤llig</option>
        <option value="one-liner">One-Liner</option>
        <option value="rant">Langer Unsinn</option>
        <option value="poem">Kurzes Gedicht</option>
      </select>
      <button id="clearBtn" class="download">Chat leeren</button>
    </div>

    <div id="chat" class="chat" aria-live="polite"></div>

    <div class="composer">
      <textarea id="prompt" placeholder="Schreibe eine Frage..." aria-label="Eingabe"></textarea>
      <div style="display:flex;flex-direction:column;gap:8px">
        <button id="sendBtn">Dumme Antwort!</button>
        <button id="surpriseBtn" class="download">Ãœberrasche mich</button>
      </div>
    </div>

    <div class="footer">
      <div class="muted">Nur zum SpaÃŸ â€” die KI ist absichtlich albern.</div>
      <div>
        <button id="downloadBtn" class="download">HTML herunterladen</button>
      </div>
    </div>
  </div>

  <script>
    // Sammlung von Wortteilen und Templates fÃ¼r dumme Antworten
    const connectors = ["wie eine Kartoffel", "auf einem Einrad", "mit Marmelade", "ohne Sinn und Verstand", "unter Wasser", "im Nebel", "auf dem Mond", "wie dein Onkel Hans"]; 
    const openings = ["NatÃ¼rlich:", "Absolut klar:", "100% sicher:", "Oh ja:", "Definitiv:"];
    const sillyPhrases = [
      "Die Antwort ist blau.",
      "Frag die Banane, sie weiÃŸ Bescheid.",
      "Wenn du genau hinhÃ¶rst, hÃ¶rst du ein Sandwich.",
      "Zuerst tanzt der KÃ¼hlschrank, dann die Welt.",
      "ZÃ¤hl bis unendlich â€” dann bist du nah dran.",
      "Nicht alle Eier sind Eier.",
      "Kaffee ist die richtige LÃ¶sung, immer.",
      "Sterne mÃ¶gen keine Socken."
    ];

    const chatEl = document.getElementById('chat');
    const promptEl = document.getElementById('prompt');
    const sendBtn = document.getElementById('sendBtn');
    const surpriseBtn = document.getElementById('surpriseBtn');
    const clearBtn = document.getElementById('clearBtn');
    const downloadBtn = document.getElementById('downloadBtn');
    const stupidRange = document.getElementById('stupidRange');
    const modeSelect = document.getElementById('modeSelect');

    // Hilfsfunktionen
    function rand(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

    function userMessage(text){
      const wrap = document.createElement('div'); wrap.className='msg user';
      const b = document.createElement('div'); b.className='bubble'; b.textContent = text;
      wrap.appendChild(b);
      chatEl.appendChild(wrap);
      chatEl.scrollTop = chatEl.scrollHeight;
    }

    function botMessage(html){
      const wrap = document.createElement('div'); wrap.className='msg';
      const b = document.createElement('div'); b.className='bubble';
      b.innerHTML = html;
      wrap.appendChild(b);
      const meta = document.createElement('div'); meta.className='meta'; meta.textContent = 'Dumme KI â€¢ ' + new Date().toLocaleTimeString();
      wrap.appendChild(meta);
      chatEl.appendChild(wrap);
      chatEl.scrollTop = chatEl.scrollHeight;
    }

    // Kern: Generiere dumme Antwort basierend auf Modus und Dummheitsgrad
    function generateDumbAnswer(prompt){
      const level = parseInt(stupidRange.value,10);
      const mode = modeSelect.value;
      // Basen
      if(!prompt || prompt.trim().length===0) prompt = '...';

      // Templates
      if(mode === 'one-liner'){
        // KÃ¼rzere, pointierte Antworten
        let base = rand(sillyPhrases);
        if(level > 6) base = base.split('.')[0] + '... definitiv.';
        return `${rand(openings)} ${base} ${rand(connectors)}`;
      }

      if(mode === 'poem'){
        const line1 = `Rosen sind rot, ${rand(['Katzen','Fische','Tassen'])} sind nett.`;
        const line2 = `${prompt.slice(0,20)} ist wichtig, aber ${rand(['Bananen','Socken','Kekse'])} regeln das.`;
        const line3 = `Ende.`;
        return `${line1}\n${line2}\n${line3}`;
      }

      if(mode === 'rant'){
        // Langer, schwadronierender Unsinn, abhÃ¤ngig von level
        const parts = [];
        const count = Math.min(6, 2 + Math.floor(level/2));
        for(let i=0;i<count;i++){
          parts.push(rand(sillyPhrases) + ' ' + rand(connectors));
        }
        return `${rand(openings)} ${parts.join(' â€” ')} (VertrauenswÃ¼rdigkeit: ${Math.max(1, 11-level)}/10)`;
      }

      // Default: random mix
      if(Math.random() < 0.5 + (level-5)/20){
        // kombiniere Fragmente
        return `${rand(openings)} ${rand(sillyPhrases)} ${rand(connectors)} <small class="muted">(Antwort basiert auf intensiver Ignoranz)</small>`;
      } else {
        return `${rand(sillyPhrases)} ${rand(connectors)} ${rand(['ðŸ˜€','ðŸ¤·â€â™‚ï¸','ðŸ¦‰','ðŸ•'])}`;
      }
    }

    function send(){
      const text = promptEl.value;
      userMessage(text || '(leere Frage)');
      // kleine VerzÃ¶gerung, damit es wie "denken" wirkt
      sendBtn.disabled = true;
      sendBtn.textContent = 'Ãœberlege...';
      setTimeout(()=>{
        const raw = generateDumbAnswer(text);
        // Ersetze ZeilenumbrÃ¼che durch <br>
        botMessage(raw.replace(/\n/g,'<br>'));
        sendBtn.disabled = false;
        sendBtn.textContent = 'Dumme Antwort!';
      }, 600 + Math.random()*900);
      promptEl.value = '';
    }

    sendBtn.addEventListener('click', send);
    promptEl.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' && !e.shiftKey){ e.preventDefault(); send(); } });
    surpriseBtn.addEventListener('click', ()=>{
      // generiere zufÃ¤llige Nonsens-Eingabe
      const sillyPrompts = ['Was passiert wenn...', 'Warum ist die Farbe...', 'ErzÃ¤hl mir was Ã¼ber mein Hamster'];
      promptEl.value = rand(sillyPrompts);
      send();
    });

    clearBtn.addEventListener('click', ()=>{ chatEl.innerHTML=''; promptEl.focus(); });

    // Download HTML: erzeugt das aktuelle HTML-Dokument als Datei
    downloadBtn.addEventListener('click', ()=>{
      const doc = '<!doctype html>\n' + document.documentElement.outerHTML;
      const blob = new Blob([doc], {type:'text/html'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'dumme-ki-chat.html'; document.body.appendChild(a); a.click(); a.remove();
      URL.revokeObjectURL(url);
    });

    // FÃ¼ge eine nette Startnachricht hinzu
    botMessage('Hallo! Ich bin die <strong>Dumme KI</strong>. Stelle mir eine Frage â€” ich werde mit Absicht albern oder unsinnig antworten.');
  </script>
</body>
</html>
